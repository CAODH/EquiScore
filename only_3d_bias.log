2022-05-09 06:43:04
Namespace(A2_limit=False, EF_rates=[0.001, 0.002, 0.005, 0.01, 0.02, 0.05], FP=False, add_logk_reg=False, alpha=5, att_mode='SA', attention_dropout_rate=0.2, auxiliary_loss=True, batch_size=48, d_FC_layer=128, data_path='/home/caoduanhua/score_function/data/general_refineset', debug=False, deta_const=False, dis_adj2_with_adj1=False, dropout_rate=0.2, edge_bias=False, edge_type='single', embed_graph='double_graph', embed_graph_mode='ligand_protein', epoch=400, ffn_size=280, fundation_model='graphformer', gate=False, gnn_edge=False, grad_sum=False, head_size=8, hot_start=False, in_degree_bias=True, initial_dev=4.0, initial_mu=2.5, json_path='/home/caoduanhua/score_function/GNN/GNN_graphformer_pyg/train_keys/config_files/ligand_only_3d_pos.json', label_smothing=0.0, layer_type='GAT_gate', loss_fn='cross_entry', lr=0.0001, lr_decay=False, mode='1_H', multi_hop_max_dist=10, n_FC_layer=4, n_graph_layer=2, n_in_feature=80, n_out_feature=80, ngpu=1, norm_type='gn_mul', num_workers=4, only_adj2=False, only_dis_adj2=True, out_degree_bias=False, path_data_dir='../../data/pocket_data_path', patience=50, pred_mode='ligand', r_drop=False, reg_lambda=0.1, rel_3d_pos_bias=True, rel_pos_bias=False, sampler=False, save_dir='/home/caoduanhua/score_function/GNN/train_result/ligand_only_3d_pos/', save_model='/home/caoduanhua/score_function/GNN/train_result/ligand_only_3d_pos/graphformer/GAT_gate/2022-05-07-13-03-11/save_best_model.pt', seed=42, share_layer=True, supernode=False, test=True, test_keys='/home/caoduanhua/score_function/GNN/GNN_graphformer_pyg/train_keys/refine_generalcrossdecoy_1_5/test_keys.pkl', test_path='/home/caoduanhua/score_function/data/independent/dekois_pocket', train_keys='/home/caoduanhua/score_function/GNN/GNN_graphformer_pyg/train_keys/refine_generalcrossdecoy_1_5/train_keys.pkl', use_adj=True, virtual_aromatic_atom=True)
Number of train data: 62343
Number of val data: 6927
Number of test data: 23986
Available GPU List
id	utilization.gpu(%)	memory.free(MiB)
0 	0                 	32510           
1 	0                 	32510           
2 	0                 	32510           
3 	0                 	32510           
4 	0                 	32510           
5 	0                 	32510           
6 	0                 	32510           
7 	1                 	32510           
Select id #0 for you.
number of parameters :  192173
/home/caoduanhua/anaconda3/lib/python3.7/site-packages/sklearn/metrics/_classification.py:1318: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 due to no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, msg_start, len(result))
model early stop !
training done!
load save model!
Traceback (most recent call last):
  File "train.py", line 317, in <module>
    run(args)
  File "train.py", line 313, in run
    getEF(model,args,args.test_path,save_path,device,args.debug,args.batch_size,args.A2_limit,loss_fn,args.EF_rates)
  File "/home/caoduanhua/score_function/GNN/GNN_graphformer_pyg/utils.py", line 421, in getEF
    test_keys = [key for key in os.listdir(test_path) if '.' not in key]
FileNotFoundError: [Errno 2] No such file or directory: '/home/caoduanhua/score_function/data/independent/dekois_pocket'
